<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ØªØ¬Ø± - Slyvie in bloom</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;600;700&family=Noto+Sans+Arabic:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --brand-primary: #8b2623;
        --brand-cream: #fdfcf3;
        --brand-dark: #6b1e1b;
        --brand-light: #a5312e;
        --brand-accent: rgba(139, 38, 35, 0.1);
        --success-color: #22c55e;
        --warning-color: #f59e0b;
        --info-color: #3b82f6;
        --danger-color: #ef4444;
        --admin-primary: #7c3aed;
        --admin-accent: #a855f7;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Noto Sans Arabic", "Inter", sans-serif;
        background: linear-gradient(135deg, var(--brand-cream), #f8fafc);
        color: var(--brand-primary);
        line-height: 1.6;
        direction: rtl;
      }

      .admin-layout {
        display: grid;
        grid-template-columns: 280px 1fr;
        min-height: 100vh;
      }

      .admin-sidebar {
        background: var(--brand-primary);
        color: var(--brand-cream);
        padding: 24px;
        box-shadow: 4px 0 12px rgba(139, 38, 35, 0.1);
      }

      .admin-header {
        text-align: center;
        padding-bottom: 24px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        margin-bottom: 24px;
      }

      .admin-logo {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        margin-bottom: 16px;
      }

      .admin-logo img {
        width: 40px;
        height: 40px;
        filter: brightness(0) invert(1);
      }

      .admin-title {
        font-size: 1.5rem;
        font-family: "Playfair Display", serif;
        margin-bottom: 8px;
      }

      .admin-subtitle {
        font-size: 14px;
        opacity: 0.8;
      }

      .admin-nav {
        list-style: none;
        display: grid;
        gap: 8px;
      }

      .admin-nav-item {
        padding: 16px;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 12px;
        font-weight: 500;
      }

      .admin-nav-item:hover,
      .admin-nav-item.active {
        background: rgba(255, 255, 255, 0.1);
        transform: translateX(-4px);
      }

      .admin-nav-icon {
        font-size: 18px;
        width: 24px;
        text-align: center;
      }

      .admin-main {
        padding: 32px;
        overflow-y: auto;
      }

      .admin-topbar {
        background: white;
        border-radius: 16px;
        padding: 20px 24px;
        margin-bottom: 32px;
        box-shadow: 0 2px 12px rgba(139, 38, 35, 0.08);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .topbar-welcome {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .welcome-avatar {
        width: 48px;
        height: 48px;
        background: linear-gradient(
          135deg,
          var(--admin-primary),
          var(--admin-accent)
        );
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 20px;
        font-weight: 600;
      }

      .welcome-text h2 {
        font-size: 20px;
        margin-bottom: 4px;
        color: var(--brand-primary);
      }

      .welcome-text p {
        color: rgba(139, 38, 35, 0.6);
        font-size: 14px;
      }

      .topbar-actions {
        display: flex;
        gap: 12px;
      }

      .btn {
        padding: 12px 20px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
      }

      .btn-primary {
        background: var(--brand-primary);
        color: var(--brand-cream);
      }

      .btn-primary:hover {
        background: var(--brand-dark);
        transform: translateY(-2px);
      }

      .btn-outline {
        background: transparent;
        color: var(--brand-primary);
        border: 1px solid var(--brand-primary);
      }

      .btn-outline:hover {
        background: var(--brand-primary);
        color: var(--brand-cream);
      }

      .btn-danger {
        background: var(--danger-color);
        color: white;
      }

      .btn-danger:hover {
        background: #dc2626;
      }

      .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 24px;
        margin-bottom: 32px;
      }

      .stat-card {
        background: white;
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 4px 12px rgba(139, 38, 35, 0.08);
        transition: all 0.3s;
        border: 1px solid rgba(139, 38, 35, 0.1);
      }

      .stat-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 24px rgba(139, 38, 35, 0.12);
      }

      .stat-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }

      .stat-icon {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        color: white;
      }

      .stat-number {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--brand-primary);
        margin-bottom: 8px;
      }

      .stat-label {
        color: rgba(139, 38, 35, 0.6);
        font-size: 14px;
        font-weight: 500;
      }

      .stat-trend {
        font-size: 12px;
        display: flex;
        align-items: center;
        gap: 4px;
        margin-top: 8px;
      }

      .trend-up {
        color: var(--success-color);
      }

      .trend-down {
        color: var(--danger-color);
      }

      .content-section {
        background: white;
        border-radius: 16px;
        padding: 32px;
        box-shadow: 0 4px 12px rgba(139, 38, 35, 0.08);
        margin-bottom: 32px;
      }

      .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 2px solid var(--brand-accent);
      }

      .section-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--brand-primary);
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .quick-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-bottom: 32px;
      }

      .quick-action {
        background: white;
        border: 2px solid var(--brand-accent);
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
        text-decoration: none;
        color: var(--brand-primary);
      }

      .quick-action:hover {
        border-color: var(--brand-primary);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(139, 38, 35, 0.1);
      }

      .quick-action-icon {
        font-size: 32px;
        margin-bottom: 12px;
      }

      .quick-action-title {
        font-weight: 600;
        margin-bottom: 8px;
      }

      .quick-action-desc {
        font-size: 12px;
        opacity: 0.7;
      }

      .recent-orders {
        max-height: 400px;
        overflow-y: auto;
      }

      .order-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px;
        border: 1px solid var(--brand-accent);
        border-radius: 12px;
        margin-bottom: 12px;
        transition: all 0.3s;
      }

      .order-item:hover {
        box-shadow: 0 2px 8px rgba(139, 38, 35, 0.1);
      }

      .order-info h4 {
        font-size: 14px;
        margin-bottom: 4px;
        color: var(--brand-primary);
      }

      .order-info p {
        font-size: 12px;
        color: rgba(139, 38, 35, 0.6);
      }

      .order-status {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
      }

      .status-pending {
        background: #fef3c7;
        color: #92400e;
      }

      .status-confirmed {
        background: #dbeafe;
        color: #1e40af;
      }

      .status-completed {
        background: #dcfce7;
        color: #166534;
      }

      .customers-preview {
        display: grid;
        gap: 12px;
      }

      .customer-item {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 16px;
        border: 1px solid var(--brand-accent);
        border-radius: 12px;
      }

      .customer-avatar {
        width: 40px;
        height: 40px;
        background: var(--brand-primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
      }

      .customer-info h4 {
        font-size: 14px;
        margin-bottom: 4px;
        color: var(--brand-primary);
      }

      .customer-info p {
        font-size: 12px;
        color: rgba(139, 38, 35, 0.6);
      }

      .customer-stats {
        margin-right: auto;
        text-align: left;
      }

      .logout-btn {
        margin-top: auto;
        padding: 16px;
        background: rgba(239, 68, 68, 0.1);
        border: 1px solid var(--danger-color);
        border-radius: 12px;
        color: var(--danger-color);
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 12px;
        font-weight: 500;
      }

      .logout-btn:hover {
        background: var(--danger-color);
        color: white;
      }

      @media (max-width: 768px) {
        .admin-layout {
          grid-template-columns: 1fr;
        }

        .admin-sidebar {
          position: fixed;
          top: 0;
          right: -280px;
          height: 100vh;
          z-index: 1000;
          transition: right 0.3s;
        }

        .admin-sidebar.open {
          right: 0;
        }

        .admin-main {
          padding: 16px;
        }

        .dashboard-grid {
          grid-template-columns: 1fr;
        }

        .topbar-welcome {
          flex-direction: column;
          align-items: flex-start;
          gap: 8px;
        }

        .topbar-actions {
          flex-direction: column;
          gap: 8px;
        }
      }

      .hidden {
        display: none !important;
      }

      .loading {
        text-align: center;
        padding: 48px;
        color: rgba(139, 38, 35, 0.6);
      }

      .error-state {
        text-align: center;
        padding: 48px;
        color: var(--danger-color);
      }
    </style>
  </head>
  <body>
    <div class="admin-layout">
      <!-- Sidebar -->
      <aside class="admin-sidebar">
        <div class="admin-header">
          <div class="admin-logo">
            <img
              src="https://cdn.builder.io/api/v1/image/assets%2F13e11346f6ee4de6b150f7304f4e7aca%2Fd6d5745669d541e0b6da8b0f22033c5a?format=webp&width=800"
              alt="Logo"
            />
            <div>
              <div class="admin-title">Slyvie in bloom</div>
              <div class="admin-subtitle">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</div>
            </div>
          </div>
        </div>

        <ul class="admin-nav">
          <li class="admin-nav-item active" onclick="showSection('dashboard')">
            <span class="admin-nav-icon">ğŸ“Š</span>
            <span>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</span>
          </li>
          <li class="admin-nav-item" onclick="showSection('orders')">
            <span class="admin-nav-icon">ğŸ›ï¸</span>
            <span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</span>
          </li>
          <li class="admin-nav-item" onclick="showSection('customers')">
            <span class="admin-nav-icon">ğŸ‘¥</span>
            <span>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</span>
          </li>
          <li class="admin-nav-item" onclick="showSection('analytics')">
            <span class="admin-nav-icon">ğŸ“ˆ</span>
            <span>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</span>
          </li>
          <li class="admin-nav-item" onclick="showSection('settings')">
            <span class="admin-nav-icon">âš™ï¸</span>
            <span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</span>
          </li>
        </ul>

        <div class="logout-btn" onclick="logout()">
          <span>ğŸšª</span>
          <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="admin-main">
        <!-- Top Bar -->
        <div class="admin-topbar">
          <div class="topbar-welcome">
            <div class="welcome-avatar">ğŸ‘‘</div>
            <div class="welcome-text">
              <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø³Ù„ÙŠÙÙŠ!</h2>
              <p id="currentDateTime">ğŸ“… Ø§Ù„Ø£Ø­Ø¯ØŒ 15 Ø¯ÙŠØ³Ù…Ø¨Ø± 2024 - 10:30 Øµ</p>
            </div>
          </div>
          <div class="topbar-actions">
            <a href="index.html" class="btn btn-outline" target="_blank">
              ğŸª Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ØªØ¬Ø±
            </a>
            <button class="btn btn-primary" onclick="refreshData()">
              ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            </button>
          </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboardSection">
          <!-- Stats Cards -->
          <div class="dashboard-grid">
            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-icon" style="background: var(--success-color)">
                  ğŸ›ï¸
                </div>
              </div>
              <div class="stat-number" id="totalOrders">0</div>
              <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
              <div class="stat-trend trend-up">
                <span>â†—ï¸</span> +12% Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-icon" style="background: var(--info-color)">
                  ğŸ’°
                </div>
              </div>
              <div class="stat-number" id="totalRevenue">0</div>
              <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Ø±ÙŠØ§Ù„)</div>
              <div class="stat-trend trend-up">
                <span>â†—ï¸</span> +8% Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-icon" style="background: var(--warning-color)">
                  â³
                </div>
              </div>
              <div class="stat-number" id="pendingOrders">0</div>
              <div class="stat-label">Ø·Ù„Ø¨Ø§Øª Ù…Ø¹Ù„Ù‚Ø©</div>
              <div class="stat-trend trend-down"><span>â†˜ï¸</span> -3 Ù…Ù† Ø£Ù…Ø³</div>
            </div>

            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-icon" style="background: var(--admin-primary)">
                  ğŸ‘¥
                </div>
              </div>
              <div class="stat-number" id="totalCustomers">0</div>
              <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
              <div class="stat-trend trend-up">
                <span>â†—ï¸</span> +5 Ø¹Ù…Ù„Ø§Ø¡ Ø¬Ø¯Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="content-section">
            <div class="section-header">
              <h2 class="section-title">âš¡ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©</h2>
            </div>
            <div class="quick-actions">
              <a href="admin-orders.html" class="quick-action" target="_blank">
                <div class="quick-action-icon">ğŸ“‹</div>
                <div class="quick-action-title">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙØµÙ„Ø©</div>
                <div class="quick-action-desc">Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
              </a>
              <div class="quick-action" onclick="exportAllData()">
                <div class="quick-action-icon">ğŸ“Š</div>
                <div class="quick-action-title">ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
                <div class="quick-action-desc">
                  ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù…Ù„Ù Excel
                </div>
              </div>
              <div class="quick-action" onclick="sendBulkMessage()">
                <div class="quick-action-icon">ğŸ“±</div>
                <div class="quick-action-title">Ø±Ø³Ø§Ù„Ø© Ø¬Ù…Ø§Ø¹ÙŠØ©</div>
                <div class="quick-action-desc">Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
              </div>
              <div class="quick-action" onclick="showSection('settings')">
                <div class="quick-action-icon">âš™ï¸</div>
                <div class="quick-action-title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</div>
                <div class="quick-action-desc">ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</div>
              </div>
            </div>
          </div>

          <!-- Recent Orders -->
          <div class="content-section">
            <div class="section-header">
              <h2 class="section-title">ğŸ†• Ø£Ø­Ø¯Ø« Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>
              <a
                href="admin-orders.html"
                class="btn btn-outline"
                target="_blank"
                >Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</a
              >
            </div>
            <div class="recent-orders" id="recentOrdersList">
              <!-- Recent orders will be populated by JavaScript -->
            </div>
          </div>

          <!-- Top Customers -->
          <div class="content-section">
            <div class="section-header">
              <h2 class="section-title">â­ Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>
              <button
                class="btn btn-outline"
                onclick="showSection('customers')"
              >
                Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„
              </button>
            </div>
            <div class="customers-preview" id="topCustomersList">
              <!-- Top customers will be populated by JavaScript -->
            </div>
          </div>
        </div>

        <!-- Other sections will be added here -->
        <div id="ordersSection" class="hidden">
          <div class="content-section">
            <div class="section-header">
              <h2 class="section-title">ğŸ›ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>
              <a
                href="admin-orders.html"
                class="btn btn-primary"
                target="_blank"
              >
                ğŸ“‹ ØµÙØ­Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙØµÙ„Ø©
              </a>
            </div>
            <p
              style="
                text-align: center;
                padding: 40px;
                color: rgba(139, 38, 35, 0.6);
              "
            >
              ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡Ùƒ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙØµÙ„Ø©...
            </p>
          </div>
        </div>

        <div id="customersSection" class="hidden">
          <div class="content-section">
            <div class="section-header">
              <h2 class="section-title">ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>
            </div>
            <div id="allCustomersList">
              <!-- All customers will be populated by JavaScript -->
            </div>
          </div>
        </div>

        <div id="analyticsSection" class="hidden">
          <div class="content-section">
            <div class="section-header">
              <h2 class="section-title">ğŸ“ˆ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h2>
            </div>
            <p
              style="
                text-align: center;
                padding: 40px;
                color: rgba(139, 38, 35, 0.6);
              "
            >
              Ù‚Ø±ÙŠØ¨Ø§Ù‹... Ø³ØªØªØ¶Ù…Ù† ØªÙ‚Ø§Ø±ÙŠØ± Ù…ÙØµÙ„Ø© Ø¹Ù† Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡
            </p>
          </div>
        </div>

        <div id="settingsSection" class="hidden">
          <div class="content-section">
            <div class="section-header">
              <h2 class="section-title">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</h2>
            </div>
            <div style="display: grid; gap: 24px">
              <div
                style="
                  padding: 20px;
                  border: 1px solid var(--brand-accent);
                  border-radius: 12px;
                "
              >
                <h3 style="margin-bottom: 16px; color: var(--brand-primary)">
                  Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
                </h3>
                <p><strong>Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±:</strong> Slyvie in bloom</p>
                <p><strong>Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„:</strong> slyvieinbloom@gmail.com</p>
                <p><strong>Ø§Ù„Ø¬ÙˆØ§Ù„:</strong> +966 50 123 4567</p>
              </div>
              <div
                style="
                  padding: 20px;
                  border: 1px solid var(--brand-accent);
                  border-radius: 12px;
                "
              >
                <h3 style="margin-bottom: 16px; color: var(--brand-primary)">
                  Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
                </h3>
                <p><strong>Ù†Ø³Ø®Ø© Ø§Ù„Ù†Ø¸Ø§Ù…:</strong> 1.0.0</p>
                <p><strong>Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:</strong> 15 Ø¯ÙŠØ³Ù…Ø¨Ø± 2024</p>
                <button
                  class="btn btn-outline"
                  onclick="clearAllData()"
                  style="margin-top: 16px"
                >
                  ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                </button>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script>
      // Check admin authentication
      const adminSession = JSON.parse(
        localStorage.getItem("adminSession") || "null",
      );
      if (!adminSession || !adminSession.isAdmin) {
        window.location.href = "customer-login.html";
      }

      // Load data
      let orders = JSON.parse(localStorage.getItem("orders") || "[]");
      let customers = JSON.parse(localStorage.getItem("customers") || "{}");

      function showSection(section) {
        // Update navigation
        document.querySelectorAll(".admin-nav-item").forEach((item) => {
          item.classList.remove("active");
        });
        event.target.classList.add("active");

        // Hide all sections
        document.querySelectorAll('[id$="Section"]').forEach((sec) => {
          sec.classList.add("hidden");
        });

        // Show selected section
        document.getElementById(section + "Section").classList.remove("hidden");

        // Special handling for orders section
        if (section === "orders") {
          setTimeout(() => {
            window.open("admin-orders.html", "_blank");
          }, 500);
        }
      }

      function updateDateTime() {
        const now = new Date();
        const options = {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
        };
        document.getElementById("currentDateTime").textContent =
          "ğŸ“… " + now.toLocaleDateString("ar-SA", options);
      }

      function loadDashboardStats() {
        const totalOrders = orders.length;
        const totalRevenue = orders.reduce(
          (sum, order) => sum + (order.total || 0),
          0,
        );
        const pendingOrders = orders.filter(
          (order) => order.status === "pending" || order.status === "confirmed",
        ).length;
        const totalCustomers = Object.keys(customers).length;

        document.getElementById("totalOrders").textContent = totalOrders;
        document.getElementById("totalRevenue").textContent =
          totalRevenue.toLocaleString();
        document.getElementById("pendingOrders").textContent = pendingOrders;
        document.getElementById("totalCustomers").textContent = totalCustomers;
      }

      function loadRecentOrders() {
        const recentOrders = orders.slice(-5).reverse();
        const container = document.getElementById("recentOrdersList");

        if (recentOrders.length === 0) {
          container.innerHTML = `
            <div class="loading">
              <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>
            </div>
          `;
          return;
        }

        container.innerHTML = recentOrders
          .map(
            (order) => `
          <div class="order-item">
            <div class="order-info">
              <h4>#${order.orderNumber}</h4>
              <p>${order.customer.firstName} ${order.customer.lastName} - ${order.date}</p>
            </div>
            <div class="order-status status-${order.status}">
              ${getStatusText(order.status)}
            </div>
            <div style="text-align: left; color: var(--brand-primary); font-weight: 600;">
              ${order.total} Ø±ÙŠØ§Ù„
            </div>
          </div>
        `,
          )
          .join("");
      }

      function loadTopCustomers() {
        const customerStats = Object.values(customers)
          .map((customer) => {
            const customerOrders = orders.filter(
              (order) => order.customer.phone === customer.phone,
            );
            const totalSpent = customerOrders.reduce(
              (sum, order) => sum + (order.total || 0),
              0,
            );
            return {
              ...customer,
              orderCount: customerOrders.length,
              totalSpent: totalSpent,
            };
          })
          .sort((a, b) => b.totalSpent - a.totalSpent)
          .slice(0, 5);

        const container = document.getElementById("topCustomersList");

        if (customerStats.length === 0) {
          container.innerHTML = `
            <div class="loading">
              <p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ù„Ø§Ø¡ Ù…Ø³Ø¬Ù„ÙŠÙ† Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>
            </div>
          `;
          return;
        }

        container.innerHTML = customerStats
          .map(
            (customer) => `
          <div class="customer-item">
            <div class="customer-avatar">
              ${customer.name.charAt(0)}
            </div>
            <div class="customer-info">
              <h4>${customer.name}</h4>
              <p>${customer.phone}</p>
            </div>
            <div class="customer-stats">
              <p style="font-size: 12px; color: rgba(139, 38, 35, 0.6);">
                ${customer.orderCount} Ø·Ù„Ø¨Ø§Øª - ${customer.totalSpent} Ø±ÙŠØ§Ù„
              </p>
            </div>
          </div>
        `,
          )
          .join("");
      }

      function getStatusText(status) {
        const statusMap = {
          pending: "Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",
          confirmed: "Ù…Ø¤ÙƒØ¯",
          preparing: "Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±",
          shipped: "Ù…Ø´Ø­ÙˆÙ†",
          completed: "Ù…ÙƒØªÙ…Ù„",
        };
        return statusMap[status] || status;
      }

      function refreshData() {
        orders = JSON.parse(localStorage.getItem("orders") || "[]");
        customers = JSON.parse(localStorage.getItem("customers") || "{}");
        loadDashboardStats();
        loadRecentOrders();
        loadTopCustomers();

        // Show success message
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = "âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«";
        btn.style.background = "var(--success-color)";
        setTimeout(() => {
          btn.textContent = originalText;
          btn.style.background = "var(--brand-primary)";
        }, 2000);
      }

      function exportAllData() {
        if (orders.length === 0) {
          alert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±");
          return;
        }

        const data = {
          orders: orders,
          customers: customers,
          exportDate: new Date().toISOString(),
          summary: {
            totalOrders: orders.length,
            totalRevenue: orders.reduce(
              (sum, order) => sum + (order.total || 0),
              0,
            ),
            totalCustomers: Object.keys(customers).length,
          },
        };

        const blob = new Blob([JSON.stringify(data, null, 2)], {
          type: "application/json",
        });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = `slyvie-bloom-data-${new Date().toISOString().slice(0, 10)}.json`;
        link.click();
      }

      function sendBulkMessage() {
        const customerPhones = Object.keys(customers);
        if (customerPhones.length === 0) {
          alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ù„Ø§Ø¡ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ Ù„Ù‡Ù…");
          return;
        }

        const message = prompt(
          "Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ÙŠÙ† Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡:",
        );
        if (message) {
          const encodedMessage = encodeURIComponent(
            `ğŸŒ¸ Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ù…ØªØ¬Ø± Ø³Ù„ÙŠÙÙŠ Ø¥Ù† Ø¨Ù„ÙˆÙ… ğŸŒ¸\n\n${message}\n\nØ´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ Ø¨Ù†Ø§! ğŸ’•`,
          );
          customerPhones.forEach((phone) => {
            window.open(
              `https://wa.me/966${phone.slice(1)}?text=${encodedMessage}`,
              "_blank",
            );
          });
        }
      }

      function clearAllData() {
        if (
          confirm(
            "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯Ø© Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.",
          )
        ) {
          if (confirm("ØªØ£ÙƒÙŠØ¯ Ø£Ø®ÙŠØ±: Ø³ÙŠØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡!")) {
            localStorage.removeItem("orders");
            localStorage.removeItem("customers");
            orders = [];
            customers = {};
            refreshData();
            alert("ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­");
          }
        }
      }

      function logout() {
        if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ÙŠÙ† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©ØŸ")) {
          localStorage.removeItem("adminSession");
          window.location.href = "customer-login.html";
        }
      }

      // Initialize dashboard
      updateDateTime();
      setInterval(updateDateTime, 60000); // Update every minute
      loadDashboardStats();
      loadRecentOrders();
      loadTopCustomers();

      // Auto-refresh data every 30 seconds
      setInterval(refreshData, 30000);
    </script>
  </body>
</html>
